import geopy
import geopy.distance

import geopy

# given: lat1, lon1, b = bearing in degrees, d = distance in kilometers
# Source : Jyotsna's house
lat1 = 42.35303958185774
lon1 = -71.15324850205559

# TO DO: get the distance from the response
d = 1.4185
origin = geopy.Point(lat1, lon1)
list1 = []

for i in range(0,360):
    b = i
    destination = geopy.distance.distance(kilometers=d).destination(origin, b)
    list1.append(destination)
    #coord = destination.latitude, destination.longitude 

lat1 = list1[129].latitude
lon1 = list1[129].longitude
# TO DO: change the location request
print(lat1,lon1)

# TO DO: get the distance from the response
d = 0.4107
origin = geopy.Point(lat1, lon1)
list2 = []

for i in range(0,360):
    b = i
    destination = geopy.distance.distance(kilometers=d).destination(origin, b)
    list2.append(destination)

min1 = 99999999999
closest_point1 = {}
min2 = 99999999999
closest_point2 = {}
for l1 in list1:
    for l2 in list2:
        dist = geopy.distance.geodesic(l1,l2).km
        if(dist < min1):
            min2 = min1
            closest_point2=closest_point1
            min1 = dist
            closest_point1=l2
        elif(dist < min2):
            min2 = dist
            closest_point2=l2
        
print(min1,min2)
print(closest_point1, closest_point2)

# import numpy as np
# import json
# import geog
# import shapely.geometry
# p = shapely.geometry.Point([42.35303958185774, -71.15324850205559])
# n_points = 360
# d = 1609.34  # meters
# angles = np.linspace(0, 360, n_points)
# circle = geog.propagate(p, angles, d)
# print(json.dumps(shapely.geometry.mapping(shapely.geometry.Polygon(circle))))